{\rtf1\ansi\ansicpg936\uc2\deff14\stshfdbch13\stshfloch0\stshfhich0\stshfbi0\deflang1033\deflangfe2052{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman{\*\falt Palatino};}
{\f1\fswiss\fcharset0\fprq2{\*\panose 020b0604020202020204}Arial{\*\falt Arial};}{\f2\fmodern\fcharset0\fprq1{\*\panose 02070309020205020404}Courier New{\*\falt Courier New};}
{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol{\*\falt Symbol};}{\f10\fnil\fcharset2\fprq2{\*\panose 05000000000000000000}Wingdings{\*\falt Wingdings};}
{\f13\fnil\fcharset134\fprq2{\*\panose 02010600030101010101}\'cb\'ce\'cc\'e5{\*\falt SimSun};}{\f14\froman\fcharset136\fprq2{\*\panose 02020300000000000000}PMingLiU{\*\falt PMingLiU};}
{\f38\fnil\fcharset134\fprq2{\*\panose 02010600030101010101}@\'cb\'ce\'cc\'e5;}{\f41\froman\fcharset136\fprq2{\*\panose 02020300000000000000}@PMingLiU;}{\f178\froman\fcharset238\fprq2 Times New Roman CE{\*\falt Palatino};}
{\f179\froman\fcharset204\fprq2 Times New Roman Cyr{\*\falt Palatino};}{\f181\froman\fcharset161\fprq2 Times New Roman Greek{\*\falt Palatino};}{\f182\froman\fcharset162\fprq2 Times New Roman Tur{\*\falt Palatino};}
{\f183\froman\fcharset177\fprq2 Times New Roman (Hebrew){\*\falt Palatino};}{\f184\froman\fcharset178\fprq2 Times New Roman (Arabic){\*\falt Palatino};}{\f185\froman\fcharset186\fprq2 Times New Roman Baltic{\*\falt Palatino};}
{\f186\froman\fcharset163\fprq2 Times New Roman (Vietnamese){\*\falt Palatino};}{\f188\fswiss\fcharset238\fprq2 Arial CE{\*\falt Arial};}{\f189\fswiss\fcharset204\fprq2 Arial Cyr{\*\falt Arial};}{\f191\fswiss\fcharset161\fprq2 Arial Greek{\*\falt Arial};}
{\f192\fswiss\fcharset162\fprq2 Arial Tur{\*\falt Arial};}{\f193\fswiss\fcharset177\fprq2 Arial (Hebrew){\*\falt Arial};}{\f194\fswiss\fcharset178\fprq2 Arial (Arabic){\*\falt Arial};}{\f195\fswiss\fcharset186\fprq2 Arial Baltic{\*\falt Arial};}
{\f196\fswiss\fcharset163\fprq2 Arial (Vietnamese){\*\falt Arial};}{\f198\fmodern\fcharset238\fprq1 Courier New CE{\*\falt Courier New};}{\f199\fmodern\fcharset204\fprq1 Courier New Cyr{\*\falt Courier New};}
{\f201\fmodern\fcharset161\fprq1 Courier New Greek{\*\falt Courier New};}{\f202\fmodern\fcharset162\fprq1 Courier New Tur{\*\falt Courier New};}{\f203\fmodern\fcharset177\fprq1 Courier New (Hebrew){\*\falt Courier New};}
{\f204\fmodern\fcharset178\fprq1 Courier New (Arabic){\*\falt Courier New};}{\f205\fmodern\fcharset186\fprq1 Courier New Baltic{\*\falt Courier New};}{\f206\fmodern\fcharset163\fprq1 Courier New (Vietnamese){\*\falt Courier New};}
{\f310\fnil\fcharset0\fprq2 SimSun Western{\*\falt SimSun};}{\f320\froman\fcharset0\fprq2 PMingLiU Western{\*\falt PMingLiU};}{\f560\fnil\fcharset0\fprq2 @\'cb\'ce\'cc\'e5 Western;}{\f590\froman\fcharset0\fprq2 @PMingLiU Western;}}
{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;
\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;\red255\green255\blue255;}{\stylesheet{\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 
\fs24\lang1033\langfe2052\loch\f0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 \snext0 Normal;}{\s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 1;}{\s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 
\b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon1 \snext0 heading 2;}{\s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 
\i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon1 \snext0 heading 3;}{\s4\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl3\outlinelevel3\adjustright\rin0\lin0\itap0 
\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon1 \snext0 heading 4;}{\s5\ql \li0\ri0\sb240\sa60\sl240\slmult0\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl4\outlinelevel4\adjustright\rin0\lin0\itap0 
\f1\fs22\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 5;}{\s6\ql \li0\ri0\sb240\sa60\sl240\slmult0\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl5\outlinelevel5\adjustright\rin0\lin0\itap0 
\i\f1\fs22\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 6;}{\s7\ql \li0\ri0\sb240\sa60\sl240\slmult0\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl6\outlinelevel6\adjustright\rin0\lin0\itap0 
\fs20\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 7;}{\s8\ql \li0\ri0\sb240\sa60\sl240\slmult0\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl7\outlinelevel7\adjustright\rin0\lin0\itap0 \i\fs20\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 8;}{\s9\ql \li0\ri0\sb240\sa60\sl240\slmult0
\nowidctlpar\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl8\outlinelevel8\adjustright\rin0\lin0\itap0 \b\i\fs18\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext0 heading 9;}{\*\cs10 \additive \ssemihidden 
Default Paragraph Font;}{\*\ts11\tsrowd\trftsWidthB3\trpaddl108\trpaddr108\trpaddfl3\trpaddft3\trpaddfb3\trpaddfr3\tscellwidthfts0\tsvertalt\tsbrdrt\tsbrdrl\tsbrdrb\tsbrdrr\tsbrdrdgl\tsbrdrdgr\tsbrdrh\tsbrdrv 
\ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1024\langfe1024\loch\f0\hich\af0\dbch\af13\cgrid\langnp1024\langfenp1024 \snext11 \ssemihidden Normal Table;}{
\s15\ql \li480\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin480\itap0 \fs24\lang1033\langfe2052\loch\f0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext15 Normal Indent;}{\*\cs16 \additive \ul\cf2 \sbasedon10 Hyperlink;}{
\s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext17 Body Text;}{\s18\ql \li720\ri0\sa120\sl240\slmult0
\nowidctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\cf1\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \sbasedon0 \snext17 \sautoupd InfoBlue;}{\s19\ql \li0\ri0\nowidctlpar\faauto\rin0\lin0\itap0 
\fs24\cf1\lang1033\langfe2052\loch\f1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 \snext19 Default;}}{\*\latentstyles\lsdstimax156\lsdlockeddef0}{\*\listtable{\list\listtemplateid-985754512{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0
\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\s1\jclisttab\tx360 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'03\'00.\'01;}{\levelnumbers\'01\'03;}\s2\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'05\'00.\'01.\'02;}{\levelnumbers\'01\'03\'05;}\s3\jclisttab\tx0 }{\listlevel
\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'07\'00.\'01.\'02.\'03;}{\levelnumbers\'01\'03\'05\'07;}\s4\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0
\levelstartat1\levelspace0\levelindent0{\leveltext\'09\'00.\'01.\'02.\'03.\'04;}{\levelnumbers\'01\'03\'05\'07\'09;}\s5\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'0b\'00.\'01.\'02.\'03.\'04.\'05;}{\levelnumbers\'01\'03\'05\'07\'09\'0b;}\s6\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'0d\'00.\'01.\'02.\'03.\'04.\'05.\'06;}{\levelnumbers\'01\'03\'05\'07\'09\'0b\'0d;}\s7\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'0f\'00.\'01.\'02.\'03.\'04.\'05.\'06.\'07;}{\levelnumbers\'01\'03\'05\'07\'09\'0b\'0d\'0f;}\s8\jclisttab\tx0 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'11\'00.\'01.\'02.\'03.\'04.\'05.\'06.\'07.\'08;}{\levelnumbers\'01\'03\'05\'07\'09\'0b\'0d\'0f\'11;}\s9\jclisttab\tx0 }{\listname ;}\listid-5}{\list\listtemplateid-160384884{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1
\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fbias0 \fi-360\li1080\jclisttab\tx1080\lin1080 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'02\'01.;}{\levelnumbers\'01;}\fi-360\li1800\jclisttab\tx1800\lin1800 }{\listlevel\levelnfc2\levelnfcn2\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'02.;}{\levelnumbers\'01;}\fi-180\li2520
\jclisttab\tx2520\lin2520 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'03.;}{\levelnumbers\'01;}\fi-360\li3240\jclisttab\tx3240\lin3240 }{\listlevel\levelnfc4\levelnfcn4\leveljc0
\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'04.;}{\levelnumbers\'01;}\fi-360\li3960\jclisttab\tx3960\lin3960 }{\listlevel\levelnfc2\levelnfcn2\leveljc2\leveljcn2\levelfollow0\levelstartat1\levelspace0\levelindent0
{\leveltext\'02\'05.;}{\levelnumbers\'01;}\fi-180\li4680\jclisttab\tx4680\lin4680 }{\listlevel\levelnfc0\levelnfcn0\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'06.;}{\levelnumbers\'01;}\fi-360\li5400
\jclisttab\tx5400\lin5400 }{\listlevel\levelnfc4\levelnfcn4\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'07.;}{\levelnumbers\'01;}\fi-360\li6120\jclisttab\tx6120\lin6120 }{\listlevel\levelnfc2\levelnfcn2\leveljc2
\leveljcn2\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'08.;}{\levelnumbers\'01;}\fi-180\li6840\jclisttab\tx6840\lin6840 }{\listname ;}\listid806357716}{\list\listtemplateid841754884\listsimple{\listlevel\levelnfc23\levelnfcn23
\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fs20\fbias0 \fi-425\li425\jclisttab\tx425\lin425 }{\listname ;}\listid873345686}{\list\listtemplateid932329388{\listlevel\levelnfc23
\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fbias0 \fi-360\li1080\jclisttab\tx1080\lin1080 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0
\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\fbias0 \fi-360\li1800\jclisttab\tx1800\lin1800 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01{\uc1\u-3929 ?};}{\levelnumbers;}\f10\fbias0 \fi-360\li2520\jclisttab\tx2520\lin2520 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fbias0 
\fi-360\li3240\jclisttab\tx3240\lin3240 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01o;}{\levelnumbers;}\f2\fbias0 \fi-360\li3960\jclisttab\tx3960\lin3960 }{\listlevel\levelnfc23
\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3929 ?};}{\levelnumbers;}\f10\fbias0 \fi-360\li4680\jclisttab\tx4680\lin4680 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0
\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fbias0 \fi-360\li5400\jclisttab\tx5400\lin5400 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01o;}{\levelnumbers;}\f2\fbias0 \fi-360\li6120\jclisttab\tx6120\lin6120 }{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3929 ?};}{\levelnumbers;}\f10\fbias0 \fi-360\li6840
\jclisttab\tx6840\lin6840 }{\listname ;}\listid876431865}{\list\listtemplateid841754884\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}
\f3\fs20\fbias0 \fi-425\li425\jclisttab\tx425\lin425 }{\listname ;}\listid992829484}{\list\listtemplateid841754884\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fs20\fbias0 \fi-425\li425\jclisttab\tx425\lin425 }{\listname ;}\listid1175224203}{\list\listtemplateid841754884\listsimple{\listlevel\levelnfc23\levelnfcn23\leveljc0\leveljcn0\levelfollow0\levelstartat1\levelspace0
\levelindent0{\leveltext\'01{\uc1\u-3913 ?};}{\levelnumbers;}\f3\fs20\fbias0 \fi-425\li425\jclisttab\tx425\lin425 }{\listname ;}\listid2132701296}}{\*\listoverridetable{\listoverride\listid-5\listoverridecount9{\lfolevel\listoverridestartat\levelstartat1}
{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat
\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}\ls1}{\listoverride\listid806357716\listoverridecount9{\lfolevel}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat
\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel\listoverridestartat\levelstartat1}{\lfolevel
\listoverridestartat\levelstartat1}\ls2}{\listoverride\listid876431865\listoverridecount9{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}{\lfolevel}\ls3}{\listoverride\listid2132701296\listoverridecount0\ls4}
{\listoverride\listid992829484\listoverridecount0\ls5}{\listoverride\listid1175224203\listoverridecount0\ls6}{\listoverride\listid873345686\listoverridecount0\ls7}}{\*\rsidtbl \rsid998715\rsid1391402\rsid2901992\rsid4275256\rsid7750238\rsid7962403
\rsid9402413\rsid10513896\rsid10642073\rsid14367322\rsid14427250\rsid14896817\rsid16531778}{\*\generator Microsoft Word 11.0.5604;}{\info{\title <<Component>> <<Version>> Component Specification}{\author gpaul}{\operator hnh}
{\creatim\yr2004\mo6\dy16\hr17\min44}{\revtim\yr2006\mo6\dy29\hr15\min8}{\version115}{\edmins609}{\nofpages13}{\nofwords4100}{\nofchars23373}{\*\company hnh}{\nofcharsws27419}{\vern24689}}
\paperw12240\paperh15840\margl1800\margr1800\margt1440\margb1440\gutter0 \ftnbj\aenddoc\noxlattoyen\expshrtn\noultrlspc\dntblnsbdb\nospaceforul\hyphcaps0\formshade\horzdoc\dgmargin\dghspace180\dgvspace180\dghorigin1800\dgvorigin1440\dghshow1\dgvshow1
\jexpand\viewkind1\viewscale100\pgbrdrhead\pgbrdrfoot\rsidroot10642073 \fet0\sectd \linex0\endnhere\sectlinegrid360\sectdefaultcl\sftnbj {\*\pnseclvl1\pnucrm\pnstart1\pnindent720\pnhang {\pntxta \dbch .}}{\*\pnseclvl2\pnucltr\pnstart1\pnindent720\pnhang 
{\pntxta \dbch .}}{\*\pnseclvl3\pndec\pnstart1\pnindent720\pnhang {\pntxta \dbch .}}{\*\pnseclvl4\pnlcltr\pnstart1\pnindent720\pnhang {\pntxta \dbch )}}{\*\pnseclvl5\pndec\pnstart1\pnindent720\pnhang {\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl6
\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl7\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl8\pnlcltr\pnstart1\pnindent720\pnhang {\pntxtb \dbch (}{\pntxta \dbch )}}{\*\pnseclvl9
\pnlcrm\pnstart1\pnindent720\pnhang {\pntxtb \dbch (}{\pntxta \dbch )}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\tx720\aspalpha\aspnum\faauto\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\fs28\ul\insrsid9402413 File Upload 2.0 Component Specification
\par }\pard\plain \s17\ql \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 
\par {\listtext\pard\plain\s1 \b\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.\tab}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Design
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
The File Upload component supports web-based file uploads. Files are received via HTTP requests. Appl\hich\af1\dbch\af14\loch\f1 ications implementing the component have the ability to store uploaded files on the file system.
\par \hich\af1\dbch\af14\loch\f1 This is a complete redesign of version 1\hich\af1\dbch\af14\loch\f1 
.0. Despite the rewrite, most of the functionality provided in version 1.0 is retained. The most obvious enhancement is to store the uploaded files in the centralized File System Server. This will allow the file upload to work in a clustered environment, 
\hich\af1\dbch\af14\loch\f1 i\hich\af1\dbch\af14\loch\f1 n case the user\hich\f1 \rquote \loch\f1 s subsequent requests are served from another node.
\par \hich\af1\dbch\af14\loch\f1 This design is a great improvement as far as flexibility is concerned. In version 1.0, the parsing of requests is restricted solely to the HTTP 1.1 standard, and an instance has to be crea\hich\af1\dbch\af14\loch\f1 
ted for every request. In version 2.0, the component supports pluggable parsing implementation through the }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 RequestParser}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
 interface, so that it can still be used on a different protocol. One }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileUpload}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  instance is now sufficient to serve multiple requests c
\hich\af1\dbch\af14\loch\f1 
oncurrently. This fits well in the servlet environment where only one instance is needed during the lifetime of the servlet. Other added features include uploading files to memory, and some file operations with a specified file id, such as retrieval and r
\hich\af1\dbch\af14\loch\f1 e\hich\af1\dbch\af14\loch\f1 moval of files.
\par \hich\af1\dbch\af14\loch\f1 The challenge of this design lies in figuring out the commonality between local file system and remote file system, and possibly another kind of persistence to store the uploaded files in general. As such, the }{
\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileUpload}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  and }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 UploadedFile}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  ar\hich\af1\dbch\af14\loch\f1 
e defined as the base classes to abstract the uploader and uploaded file respectively. }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 MemoryFileUpload}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  works with the memory to produce }{\i\insrsid9402413 
\hich\af1\dbch\af14\loch\f1 MemoryUploadedFile}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  instances. }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 LocalFileUpload}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  and }{\i\insrsid9402413 
\hich\af1\dbch\af14\loch\f1 RemoteFileUpload}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  work with the file systems to produce }{\i\insrsid9402413 \hich\af1\dbch\af14\loch\f1 LocalUploadedF\hich\af1\dbch\af14\loch\f1 ile}{\insrsid9402413 
\hich\af1\dbch\af14\loch\f1  instances. 
\par \hich\af1\dbch\af14\loch\f1 Another decision to make is the internals of the uploaded file object, while making sure the object is serializable. In other words, the internals must be serializable themselves. The problem is we can\hich\f1 \rquote \loch\f1 
t store the connection inside the obje\hich\af1\dbch\af14\loch\f1 
ct for remote file access. Since the requirement assumes that the uploaded files are not modified in the remote server, it is safe to assume that the downloaded file is an accurate representation. Considering also the performance gain, the approach to cac
\hich\af1\dbch\af14\loch\f1 h\hich\af1\dbch\af14\loch\f1 e the remote files in the local file system is chosen, so that we can simply store the serializable File inside the uploaded file object.
\par \hich\af1\dbch\af14\loch\f1 Note that extra file information such as form file name and content type is available immediately after parsing the re\hich\af1\dbch\af14\loch\f1 
quest. It will not available again when retrieving an uploaded file using a file id later. The component does not do the job of storing these pieces of information in this version. If necessary to retrieve them later, users should store them in some way m
\hich\af1\dbch\af14\loch\f1 o\hich\af1\dbch\af14\loch\f1 re effective.
\par \hich\af1\dbch\af14\loch\f1 
Finally, it is worth mentioning that the Object Factory component is not used to instantiate the classes. For one thing, it requires a completely different configuration structure which may not be convenient for those who get used to the prev
\hich\af1\dbch\af14\loch\f1 ious version. For another, it requires the configurable attributes to be specified in the constructor. The argument list may look too long for those classes supporting 5 attributes or more.
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.1\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Design Patterns 
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Abstract factory}{
\insrsid9402413 \hich\af1\dbch\af14\loch\f1  pattern is used in the FileU\hich\af1\dbch\af14\loch\f1 pload class. Different implementations of FileUpload produce different implementations of UploadedFile.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Strategy}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1  pattern is used through the RequestParser interface. It allows different parsing strategy implementations plugged to the FileUpload class.
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.2\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Industry Standards 
\par }\pard\plain \s17\qj \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
RFC 1867 (http://www.ietf.org/rfc/rfc1867.txt)
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Required Algorithms
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.1\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Overview of HTTP Request
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
The first thing is to understand what the request looks like when uploading files using HTTP 1.1 protocol. An example is given here fo\hich\af1\dbch\af14\loch\f1 r illustration. The parsing of request is based on the data format.
\par \hich\af1\dbch\af14\loch\f1 \hich\f1 First, the content type of the request should have been set to \'93\loch\f1 \hich\f1 multipart/form-data; boundary=[some stuff]\'94\loch\f1 
. This is how you can ascertain that you're really dealing with a properly encode\hich\af1\dbch\af14\loch\f1 
d upload post. The boundary value is probably of the form -----------------------------18788734234, where the digits are randomly generated. This boundary is a MIME boundary; it's guaranteed not to appear anywhere in the data except between the multiple p
\hich\af1\dbch\af14\loch\f1 a\hich\af1\dbch\af14\loch\f1 rts of the data.
\par \hich\af1\dbch\af14\loch\f1 The data itself appears in blocks that are made up of lines separated by CR/LF pairs. It looks like this more or less. The line numbers are shown here for explanation purpose, and should not appear in real data.
\par }\pard \s17\ql \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\insrsid9402413 
\par }{\f2\fs16\cf2\insrsid9402413 \hich\af2\dbch\af14\loch\f2 01 -----------------------\hich\af2\dbch\af14\loch\f2 --------18788734234
\par \hich\af2\dbch\af14\loch\f2 02 Content-Disposition: form-data; name="parameter_name"
\par \hich\af2\dbch\af14\loch\f2 03
\par \hich\af2\dbch\af14\loch\f2 04 [parameter value here]
\par \hich\af2\dbch\af14\loch\f2 05 -------------------------------18788734234
\par \hich\af2\dbch\af14\loch\f2 06 Content-Disposition: form-data; name="form_file_name"; filename="file.gif"
\par \hich\af2\dbch\af14\loch\f2 07 Content-Type: image/gif
\par \hich\af2\dbch\af14\loch\f2 08
\par \hich\af2\dbch\af14\loch\f2 09 [file contents here]
\par \hich\af2\dbch\af14\loch\f2 10 -------------------------------18788734234--}{\insrsid9402413 
\par 
\par }\pard \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 These points should be noted:
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 \hich\f1 The resulting boundary value should have an extra \'93\loch\f1 \hich\f1 --\'93\loch\f1 
 in front of the value extracted from the content type.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 The end of the data is mark\hich\af1\dbch\af14\loch\f1 \hich\f1 ed by an extra \'93\loch\f1 \hich\f1 --\'93\loch\f1 
 after the boundary value.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 The end of the header in each block is marked by an empty line after the boundary line.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 The end of the parameter value or file contents in each block is marked by the occurrence of the boundary line.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 \hich\f1 The absence of \'93\loch\f1 \hich\f1 filename=\'85\'94\loch\f1 \hich\f1  in \'93\loch\f1 \hich\f1 Content-Disposition\'94
\loch\f1  header indicates that this is a parameter block. Otherwise this should be a file block.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls4\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls4\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 \hich\f1 The \'93\loch\f1 \hich\f1 Content-type\'94\loch\f1  header in the file block is optional.
\par }\pard \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\insrsid9402413 
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 For better understanding, here shows the method calls \hich\af1\dbch\af14\loch\f1 of the RequestParser in the correct sequence, and where the input stream positions upon each call based on the above example.

\par }\pard \s17\ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 parser.parseRequest(...);
\par \hich\af2\dbch\af14\loch\f2 // at the start of line 02
\par 
\par \hich\af2\dbch\af14\loch\f2 while (parser.hasNextFile()) \{
\par \hich\af2\dbch\af14\loch\f2     // at the start of line 09
\par \hich\af2\dbch\af14\loch\f2     // should \hich\af2\dbch\af14\loch\f2 have parsed the parameter
\par 
\par \hich\af2\dbch\af14\loch\f2     parser.writeNextFile(...);
\par }\pard \s17\ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2     // at the end of line 10
\par }\pard \s17\ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2     // should have parsed the file
\par \}
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.2\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Overview of Local File Upload
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
Local file upload is just a matter of saving the uploaded files into a target directory in the local file system. The file id is assigned as the name of the saved file.}{\cf2\insrsid9402413\charrsid10513896 \hich\af1\dbch\af14\loch\f1 
 If overwriting of files is allowed, }{\cf2\insrsid10513896\charrsid10513896 \hich\af1\dbch\af14\loch\f1 "overwrite_"\hich\af1\dbch\af14\loch\f1  }{\cf2\insrsid10513896\charrsid1391402 \hich\af1\dbch\af14\loch\f1 +\hich\af1\dbch\af14\loch\f1  }{
\cf2\insrsid7750238\charrsid1391402 \hich\af1\dbch\af14\loch\f1 remote_file_nam}{\cf2\insrsid1391402\charrsid1391402 \hich\af1\dbch\af14\loch\f1 e}{\cf2\insrsid7962403\charrsid1391402 \hich\af1\dbch\af14\loch\f1  }{\cf2\insrsid10513896\charrsid10513896 
\hich\af1\dbch\af14\loch\f1 will be }{\cf2\insrsid9402413\charrsid10513896 \hich\af1\dbch\af14\loch\f1 used as the \hich\af1\dbch\af14\loch\f1 s\hich\af1\dbch\af14\loch\f1 aved file name}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 \hich\f1 
. If overwriting of files is not allowed, the saved file name will be composed as \'93\loch\f1 \hich\f1 unique_id + remote_file_name\'94\loch\f1 
, where the unique id is generated by the GUID Generator component. The GUID Generator ensures the uniqueness of id across all ser\hich\af1\dbch\af14\loch\f1 vers.
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.3\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Overview of Remote File Upload
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
Remote file upload is slightly more complex. It first saves the uploaded files into a temporary directory in the local file system, using the unique file names as described above. The FileSystemClient is then used\hich\af1\dbch\af14\loch\f1 
 to upload the saved files from the local file system to the FileSystemServer. The saved files act as a cache for subsequent download requests, and are deleted from the temporary directory upon the exit of JVM. The file id is assigned as the one provided 
\hich\af1\dbch\af14\loch\f1 b\hich\af1\dbch\af14\loch\f1 y the FileSystemServer.
\par \hich\af1\dbch\af14\loch\f1 
Retrieval of uploaded file with a specified file id reverses the above process. First it looks for the saved file under the temporary directory in the local file system. If not, the FileSystemClient is then called to download the fi
\hich\af1\dbch\af14\loch\f1 le from the FileSystemServer into the temporary directory. An input stream is opened with the downloaded file. Make sure the downloaded files are deleted upon the exit of the JVM.
\par \hich\af1\dbch\af14\loch\f1 The following sub-sections show how to use the FileSystemClient to perform f\hich\af1\dbch\af14\loch\f1 ile-related operations. They are provided in the demo section of FileSystemServer\hich\f1 \rquote \loch\f1 
s component specification.
\par {\listtext\pard\plain\s4 \fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.3.1\tab}}\pard\plain \s4\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl3\outlinelevel3\adjustright\rin0\lin0\itap0 \f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Upload a file
\par }\pard\plain \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 
String requestId = fsClient.uploadFile(fileLocation,fileName);
\par \hich\af2\dbch\af14\loch\f2 FileUploadCheckStatus status =
\par \hich\af2\dbch\af14\loch\f2 fsClient.getFileUploadCheckStat\hich\af2\dbch\af14\loch\f2 us(requestId, true);
\par \hich\af2\dbch\af14\loch\f2 if (status==FileUploadCheckStatus.UPLOAD_ACCEPTED) \{
\par \hich\af2\dbch\af14\loch\f2        while(fsClient.isFileTransferWorkerAliva(requestId)) \{
\par \hich\af2\dbch\af14\loch\f2            Thread.sleep(500);
\par \hich\af2\dbch\af14\loch\f2        \}
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 ResponseMessage response =
\par \hich\af2\dbch\af14\loch\f2 (ResponseMessage) fsClient.receiveResponse(requestId,t\hich\af2\dbch\af14\loch\f2 rue);
\par \hich\af2\dbch\af14\loch\f2 if (response != null && response.getException()==null) \{
\par }\pard \ql \fi720\li1440\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin1440\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 String fileId = (String) response.getResult();
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\fs18\insrsid9402413 \}}{\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2  else \{
\par }\pard \ql \fi720\li1440\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin1440\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 // handle the exception
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\fs18\insrsid9402413 \}
\par }\pard \ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\fs18\insrsid9402413 \}}{\fs18\cf9\insrsid9402413 
\par {\listtext\pard\plain\s4 \fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.3.2\tab}}\pard\plain \s4\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl3\outlinelevel3\adjustright\rin0\lin0\itap0 \f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Retrieve a file
\par }\pard\plain \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 
String requestId = fsClient.retrieveFile(fileId,fileLocation);
\par \hich\af2\dbch\af14\loch\f2 while(fsClient.isFileT\hich\af2\dbch\af14\loch\f2 ransferWorkerAlive(requestId)) \{
\par }\pard \ql \fi420\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 Thread.sleep(500);
\par }\pard \ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\fs18\insrsid9402413 \}
\par }\pard \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 ResponseMessage response =
\par \hich\af2\dbch\af14\loch\f2 (ResponseMessage) fsClient.receiveResponse(requestId,true);
\par \hich\af2\dbch\af14\loch\f2 if (response.getException()==null) \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 String fileName = (String) response.getResult();
\par \hich\af2\dbch\af14\loch\f2 // use the file with the resulted file name
\par }\pard \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\fs18\insrsid9402413 \}}{\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2  else \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 // handle the exception
\par }\pard \ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\fs18\insrsid9402413 \}
\par {\listtext\pard\plain\s4 \fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.3.3\tab}}\pard\plain \s4\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl3\outlinelevel3\adjustright\rin0\lin0\itap0 \f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Get file name
\par }\pard\plain \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 
String requestId = fsClient.getFileName(fileId);
\par \hich\af2\dbch\af14\loch\f2 ResponseMessage response =
\par \hich\af2\dbch\af14\loch\f2 (ResponseMessage) fsClient.receiveResponse(requestId,true);
\par \hich\af2\dbch\af14\loch\f2 if (response.getExc\hich\af2\dbch\af14\loch\f2 eption()==null) \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 String fileName = (String) response.getResult();
\par }\pard \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\fs18\insrsid9402413 \}}{\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2  else \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 // handle the exception
\par }\pard \ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\fs18\insrsid9402413 \}
\par {\listtext\pard\plain\s4 \fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.3.3.4\tab}}\pard\plain \s4\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl3\outlinelevel3\adjustright\rin0\lin0\itap0 \f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Remove a file
\par }\pard\plain \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 
String requstId = fsClient.removeFile(fileId);
\par \hich\af2\dbch\af14\loch\f2 ResponseMessage response =
\par \hich\af2\dbch\af14\loch\f2 (ResponseMessage) fsClient.receiveResponse(requestId,true)\hich\af2\dbch\af14\loch\f2 ;
\par \hich\af2\dbch\af14\loch\f2 if (response.getException()==null) \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 // response.getResult()==null
\par }\pard \ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\fs18\insrsid9402413 \}}{\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2  else \{
\par }\pard \ql \fi720\li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\f2\fs18\insrsid9402413 \hich\af2\dbch\af14\loch\f2 // handle the exception
\par }\pard \ql \fi720\li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\fs18\insrsid9402413 \}
\par }{\insrsid9402413 
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.4\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Component Class Overview
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
FileUpload (abstract class):
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 A class abstracting the\hich\af1\dbch\af14\loch\f1 
 parsing of ServletRequest to produce the FileUploadResult. The information parsed in the ServletRequest includes uploaded files and form parameters. Implementations should define the strategy to store the uploaded files to persistence (e.g. in memory or 
\hich\af1\dbch\af14\loch\f1 s\hich\af1\dbch\af14\loch\f1 ome kind of persistent storage).
\par \hich\af1\dbch\af14\loch\f1 The uploaded file can be retrieved later (e.g. after restarting the application) using a file id. The file id should be unique to every uploaded file. Implementations should also define how to assign this file id if applica
\hich\af1\dbch\af14\loch\f1 ble.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 MemoryFileUpload:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This class represents the memory storage of the uploaded files. This class works by saving the uploaded files into memory (using a byte array). Overwriting of files is not allowed.
\par \hich\af1\dbch\af14\loch\f1 MemoryFileUpload can be used for fast retrieval of d\hich\af1\dbch\af14\loch\f1 
ata (without I/O) when the file size is small. It cannot be used in a clustered environment however. It is strongly recommended to limit the file size by specifying the single_file_limit property in the configuration.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 LocalFileUpload:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This class represents\hich\af1\dbch\af14\loch\f1 
 the persistent storage of the uploaded files in the local file system. This class works by saving the uploaded files into a default or specified directory (which should be among the allowed directories). In addition, the user can specify whether overwrit
\hich\af1\dbch\af14\loch\f1 i\hich\af1\dbch\af14\loch\f1 
ng of files (based on the remote file name) is desirable. If overwrite is false, a unique file name is generated for each uploaded file and this is used as the file id. If overwrite is true, the remote file name will simply be used as the file id. This wi
\hich\af1\dbch\af14\loch\f1 l\hich\af1\dbch\af14\loch\f1 l allow uploads with the same remote file name under a request or different requests.
\par \hich\af1\dbch\af14\loch\f1 LocalFileUpload can be used to store files whose size is moderately large. The advantage is the saving of memory and persistent storage. It cannot be used in the clustere\hich\af1\dbch\af14\loch\f1 d environment however.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 RemoteFileUpload:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
This class represents the persistent storage of the uploaded files in the remote file system. The remote file system is provided by the File System Server component. This class works by saving the uploaded files usi\hich\af1\dbch\af14\loch\f1 
ng unique file names into a temporary directory in the local file system first, then calling the File System Server to upload the files. These locally saved files act as a cache, and should be removed from the temporary directory upon the exit of JVM. The
\hich\af1\dbch\af14\loch\f1  \hich\af1\dbch\af14\loch\f1 
file id is provided by the File System Server (assigned during upload). This will allow uploads with the same remote file name under a request or different requests. Overwriting of files is not allowed.
\par \hich\af1\dbch\af14\loch\f1 RemoteFileUpload can be used in a clustered environme\hich\af1\dbch\af14\loch\f1 
nt when the request is served from another node. However the upload and download time will be slower because the data is transferred over the network, especially when the file size is large.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 UploadedFile (abstract class):
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This class abstracts an uploaded f\hich\af1\dbch\af14\loch\f1 
ile stored in the persistence. Some file information and the file contents (byte data) can be retrieved. Implementations should define the way to retrieve file information, while assuring the UploadedFile object is serializable.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 MemoryUploadedFile:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This cl\hich\af1\dbch\af14\loch\f1 
ass represents an uploaded file stored in the memory. Some file information and the file contents (byte data) can be retrieved from the memory. No file id is associated with a MemoryUploadedFile.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 LocalUploadedFile:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This class represents an uploaded file st\hich\af1\dbch\af14\loch\f1 
ored in the local file system. Some file information and the file contents (byte data) can be retrieved from the locally stored file. Every such instance is identified by a file id. It is not necessary to have the file name as the file id however.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 RequestP\hich\af1\dbch\af14\loch\f1 arser (interface):
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
This interface defines the contract to parse the uploaded files and parameters from the servlet request. For uploaded file, its form file name, remote file name, content type and file contents will be retrieved. It provides the method to
\hich\af1\dbch\af14\loch\f1  write the file contents to the specified output stream for storage purpose.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 HttpRequestParser:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 An implementation of RequestParser interface to parse the uploaded files and parameters from the servlet request using the HTTP 1.1 standard. For details of the\hich\af1\dbch\af14\loch\f1 
 protocol please refer to RFC 1867.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileUploadResult:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 A class that encapsulates the file upload information collected during the parsing of the request. This includes uploaded files and form parameters. The APIs for the form parameters resemble the HttpSer
\hich\af1\dbch\af14\loch\f1 vletRequest for easy grasp of usage.
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.5\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Component Exception Definitions
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.5.1\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Custom Exceptions
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileUploadException:

\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is the base exception class for the File Upload component. All exception classes should extend from it.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 ConfigurationException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This \hich\af1\dbch\af14\loch\f1 
is an exception class to indicate any errors related to configuration, such as missing required properties or invalid property values (e.g. not a number). This exception is thrown from the constructors accepting a namespace.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 PersistenceException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is a\hich\af1\dbch\af14\loch\f1 
n exception class to indicate any errors related to persistence where the uploaded files are stored. It can be used to wrap exceptions thrown from database or remote file system, for example. This exception is thrown for all operations involving persisten
\hich\af1\dbch\af14\loch\f1 c\hich\af1\dbch\af14\loch\f1 e, such as uploading or downloading files.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileDoesNotExistException}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 :
\par \hich\af1\dbch\af14\loch\f1 This is an exception class to indicate that the requested file (specified with file id) does not exist in the persistence. This exception is thrown in the FileUpload and UploadedFile cla\hich\af1\dbch\af14\loch\f1 
sses. These classes retrieve file information using the specified file id.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 DisallowedDirectoryException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is an exception class to indicate that the specified directory is not allowed to write files under, since it is not one of the allowed directories\hich\af1\dbch\af14\loch\f1 
. This exception is thrown in the constructors of LocalFileUpload class where directory is specified.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 RequestParsingException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is an exception class to indicate any errors related to parsing the request, such as reading unexpected input data or violat\hich\af1\dbch\af14\loch\f1 
ing some parsing constraints. This exception is thrown in the uploadFiles() method of FileUpload class.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 FileSizeLimitExceededException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is an exception class to indicate the uploaded file exceeds the file size limit. This happens during the parsing of\hich\af1\dbch\af14\loch\f1 
 the request. This exception is thrown in the uploadFiles() method of FileUpload class.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 InvalidContentTypeException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This is an exception class to indicate invalid content type in the request. For example, according to HTTP 1.1, the content type of the req\hich\af1\dbch\af14\loch\f1 
uest should be "multipart/form-data". Others should be treated as invalid content type. This exception is thrown in the uploadFiles() method of FileUpload class.
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.5.2\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 System Exceptions
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
IllegalArgumentException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This exception can be thrown by methods of a\hich\af1\dbch\af14\loch\f1 ll classes when invalid inputs are passed to them, such as null or empty string. Normally an empty string is checked with trimmed result.

\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 IllegalStateException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This exception indicates that the method is invoked at an inappropriate time, such as calling t\hich\af1\dbch\af14\loch\f1 
he methods of the RequestParser interface in the wrong sequence. It can also be thrown in the remote classes when the FileSystemClient is disconnected.
\par }{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 IOException:
\par }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 This exception indicates any errors related to I/O. The exception can be thrown when retrieving the input stream of the UploadedFile.
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 1.6\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Thread Safety
\par }\pard\plain \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
This component is thread-safe. Only the RequestParser implementation keeps state information and is not \hich\af1\dbch\af14\loch\f1 
thread-safe, but it will be used in a thread-safe manner by the FileUpload subclasses. The remote classes interact with the FileSystemServer using the FileSystemClient, which can be used in a multi-threaded environment once connected. The rest of the clas
\hich\af1\dbch\af14\loch\f1 s\hich\af1\dbch\af14\loch\f1 es are thread-safe by being immutable.
\par \hich\af1\dbch\af14\loch\f1 The FileSystemClient connects to the File System Server in the constructor. Once constructed the communication becomes transparent to the user. It is important to explicitly call the disconnect() method after use (wit
\hich\af1\dbch\af14\loch\f1 h the RemoteFileUpload instance) to release the resources.
\par \hich\af1\dbch\af14\loch\f1 Note that the state of the class changes when removing files or disconnecting from the File System Server. Applications using this component should make sure that no other thread is calling the met\hich\af1\dbch\af14\loch\f1 
hods on the UploadedFile or RemoteFileUpload instance when performing the above actions.
\par {\listtext\pard\plain\s1 \b\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 2.\tab}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Environment Requirements\tab \tab 
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 2.1\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Environment
\par }\pard\plain \s17\ql \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Java 1.4
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 2.2\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 TopCoder Software Components
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard\plain \s17\qj \fi-360\li1080\ri0\sa120\widctlpar\jclisttab\tx1080\aspalpha\aspnum\faauto\ls3\adjustright\rin0\lin1080\itap0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Configuration Manager 2.1.4 }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 is used to load the configuration values of the F
\hich\af1\dbch\af14\loch\f1 ileUpload classes under a specified namespace.
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 File System Server 1.0 }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
is used to save the uploaded files to the remote file system. Users can still retrieve the files if the requests are served from another node.
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 GUID Generator 1.0 }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
is used to generate unique ids for filenames. This will allow uploads with the same remote file name under a request or different requests.
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}{\b\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Base Exception 1.0 }{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
is used as a base class for all exceptions. It provides a consistent way to handle the cause ex\hich\af1\dbch\af14\loch\f1 ception.
\par }\pard \s17\qj \li720\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
NOTE: The default location for TopCoder Software component jars is../lib/tcs/COMPONENT_NAME/COMPONENT_VERSION relative to the component installation.}{\cf1\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
  Setting the tcs_libdir property in topcoder_global.properties will overwrite this default locati\hich\af1\dbch\af14\loch\f1 on.}{\insrsid9402413 
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 2.3\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Third Party Components
\par }\pard\plain \s17\ql \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 None
\par {\listtext\pard\plain\s1 \b\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 3.\tab}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Installation and Configuration
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 3.1\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Package Name
\par }\pard\plain \s17\ql \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
com.topcoder.servlet.request
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 3.2\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Configuration Parameters
\par }\trowd \irow0\irowband0\ts11\trgaph108\trleft720\trhdr\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl
\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480
\clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\pard\plain \ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\b\f1\fs20\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Parameter\cell \hich\af1\dbch\af14\loch\f1 Description\cell \hich\af1\dbch\af14\loch\f1 Values\cell }\pard 
\ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 {\b\insrsid9402413 \trowd \irow0\irowband0\ts11\trgaph108\trleft720\trhdr\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 
\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrs\brdrw10 \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row 
}\trowd \irow1\irowband1\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb
\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone 
\clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 single_file_limit\cell \hich\af1\dbch\af14\loch\f1 
Single file size limit for each uploaded file in the request, in bytes. A value of \hich\f1 \endash \loch\f1 1 indicates no limit.\cell \hich\af1\dbch\af14\loch\f1 Long integer.
\par \hich\af1\dbch\af14\loch\f1 Optional\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow1\irowband1
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 total_file_limit\cell \hich\af1\dbch\af14\loch\f1 
Total file size limit for all uploaded files in the request, in bytes. A value of \hich\f1 \endash \loch\f1 1 indicates no limit.\cell \hich\af1\dbch\af14\loch\f1 Long integer.
\par \hich\af1\dbch\af14\loch\f1 Optional\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow2\irowband2
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 allowed_dirs\cell \hich\af1\dbch\af14\loch\f1 
Multiple values specifying the allowed directories to write uploaded files under.
\par \hich\af1\dbch\af14\loch\f1 Applicable to LocalFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Directory paths.
\par \hich\af1\dbch\af14\loch\f1 Required\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow3\irowband3
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 default_dir\cell \hich\af1\dbch\af14\loch\f1 Default directory to write uploaded files under.
\par \hich\af1\dbch\af14\loch\f1 Applicable to Loca\hich\af1\dbch\af14\loch\f1 lFileUpload.\cell \hich\af1\dbch\af14\loch\f1 An existing directory path.
\par \hich\af1\dbch\af14\loch\f1 Required if directory is not specified\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {
\insrsid9402413 \trowd \irow4\irowband4\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl
\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480
\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 overwrite\cell \hich\af1\dbch\af14\loch\f1 Whether overwriting of files is allowed by default.
\par \hich\af1\dbch\af14\loch\f1 Applicable to LocalFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Boolean value.
\par \hich\af1\dbch\af14\loch\f1 Required if overwrite flag is not specified\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {
\insrsid9402413 \trowd \irow5\irowband5\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl
\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480
\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 temp_dir\cell \hich\af1\dbch\af14\loch\f1 Temporary directory to write uploaded files under.
\par \hich\af1\dbch\af14\loch\f1 Applicable to RemoteFileUpload.\cell \hich\af1\dbch\af14\loch\f1 An existing directory path.
\par \hich\af1\dbch\af14\loch\f1 Optional\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow6\irowband6
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 ip_address\cell \hich\af1\dbch\af14\loch\f1 IP address of the file system server.
\par \hich\af1\dbch\af14\loch\f1 Applicable to RemoteFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Valid IP address.
\par \hich\af1\dbch\af14\loch\f1 Required\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow7\irowband7
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 port\cell \hich\af1\dbch\af14\loch\f1 Port that \hich\af1\dbch\af14\loch\f1 the file system server is listening at.
\par \hich\af1\dbch\af14\loch\f1 Applicable to RemoteFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Port number between 0 and 65535.
\par \hich\af1\dbch\af14\loch\f1 Required.\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow8\irowband8
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 message_namespace\cell \hich\af1\dbch\af14\loch\f1 Namespace used to create message factory.
\par \hich\af1\dbch\af14\loch\f1 Applicable to RemoteFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Non-empty string.
\par \hich\af1\dbch\af14\loch\f1 Required.\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \trowd \irow9\irowband9
\ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrnone \clbrdrr
\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrnone \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrnone \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\trowd \irow10\irowband10\lastrow \ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 
\trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl\brdrs\brdrw10 \clbrdrb\brdrs\brdrw10 \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone 
\clbrdrb\brdrs\brdrw10 \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil \cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrs\brdrw10 \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720
\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 handler_id\cell 
\hich\af1\dbch\af14\loch\f1 Id of th\hich\af1\dbch\af14\loch\f1 e handler that will process requests on the server side
\par \hich\af1\dbch\af14\loch\f1 Applicable to RemoteFileUpload.\cell \hich\af1\dbch\af14\loch\f1 Non-empty string.
\par \hich\af1\dbch\af14\loch\f1 Required.\cell }\pard\plain \ql \li0\ri0\widctlpar\intbl\aspalpha\aspnum\faauto\adjustright\rin0\lin0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 
\trowd \irow10\irowband10\lastrow \ts11\trgaph108\trleft720\trbrdrt\brdrs\brdrw10 \trbrdrl\brdrs\brdrw10 \trbrdrb\brdrs\brdrw10 \trbrdrr\brdrs\brdrw10 \trftsWidth1\trpaddl108\trpaddr108\trpaddfl3\trpaddfr3 \clvertalt\clbrdrt\brdrnone \clbrdrl
\brdrs\brdrw10 \clbrdrb\brdrs\brdrw10 \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth2520\clshdrawnil \cellx3240\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrs\brdrw10 \clbrdrr\brdrnone \cltxlrtb\clftsWidth3\clwWidth3240\clshdrawnil 
\cellx6480\clvertalt\clbrdrt\brdrnone \clbrdrl\brdrnone \clbrdrb\brdrs\brdrw10 \clbrdrr\brdrs\brdrw10 \cltxlrtb\clftsWidth3\clwWidth2240\clshdrawnil \cellx8720\row }\pard\plain 
\s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 3.3\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Dependencies Configuration
\par }\pard\plain \s17\ql \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
File System Server requires its own configuration.
\par {\listtext\pard\plain\s1 \b\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.\tab}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Usage Notes
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.1\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Required steps to test the component
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard\plain \s17\ql \fi-360\li1080\ri0\sa120\widctlpar\jclisttab\tx1080\aspalpha\aspnum\faauto\ls3\adjustright\rin0\lin1080\itap0 
\fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Extract the component distribution.
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}\hich\af1\dbch\af14\loch\f1 Follow }{\field\fldedit{\*\fldinst {\insrsid9402413 \hich\af1\dbch\af14\loch\f1  HYPERLINK "C:\\filez\\work\\tc\\tcs_corp\\
templates\\component\\" \\l "_Dependencies_Configuration" }{\fs24\insrsid10642073 {\*\datafield 
00d0c9ea79f9bace118c8200aa004ba90b02000000010000000303000000000000c00000000000004600002900000066696c657a776f726b74637463735f636f727074656d706c61746573636f6d706f6e656e7422206c00ffffadde0000000000000000000000000000000000000000000000000000000000009d}}
}{\fldrslt {\cs16\ul\cf2\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Dependencies Configuration}}}{\insrsid9402413 \hich\af1\dbch\af14\loch\f1 .
\par {\listtext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}\hich\af1\dbch\af14\loch\f1 Execute \hich\f1 \lquote \loch\f1 ant test\hich\f1 \rquote \loch\f1  within the directory that the distribution was extracted to.

\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.2\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Required steps to use the component
\par }\pard\plain \s17\ql \fi720\li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 None
\par {\listtext\pard\plain\s2 \b\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.3\tab}}\pard\plain \s2\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl1\outlinelevel1\adjustright\rin0\lin0\itap0 \b\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Demo
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.3.1\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Creating FileUpload instances
\par }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid14427250 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {
\fs18\cf2\loch\af2\hich\af2\dbch\af13\insrsid14427250\charrsid14427250 \hich\af2\dbch\af13\loch\f2         // create instance for file upload to memory
\par \hich\af2\dbch\af13\loch\f2         FileUpload upload = new MemoryFileUpload(MEMORY_FILE_UPLOAD_NAMESPACE);
\par 
\par \hich\af2\dbch\af13\loch\f2         // create instance for file upload to a directory in local file system,
\par \hich\af2\dbch\af13\loch\f2         // the directory can be specified dynamically
\par \hich\af2\dbch\af13\loch\f2         upload = new LocalFileUpload(LOCAL_FILE_UPLOAD_NAMESPACE, TEMP_DIR);
\par 
\par \hich\af2\dbch\af13\loch\f2         // create instance for file upload to remote file system
\par \hich\af2\dbch\af13\loch\f2         upload = new RemoteFileUpload(REMOTE_FILE_UPLOAD_NA\hich\af2\dbch\af13\loch\f2 MESPACE);
\par 
\par \hich\af2\dbch\af13\loch\f2         upload.disconnect();}{\fs18\cf2\loch\af2\hich\af2\dbch\af13\insrsid14427250\charrsid14427250 
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.3.2\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Manipulating results after parsing the request
\par }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid14367322 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\f2\fs18\cf2\insrsid14367322\charrsid14367322 
\hich\af2\dbch\af14\loch\f2         // create the FileUpload instance
\par \hich\af2\dbch\af14\loch\f2         FileUpload upload = new LocalFileUpload(LOCAL_FILE_UPLOAD_NAMESPACE, TEMP_DIR);
\par 
\par \hich\af2\dbch\af14\loch\f2         // prepare the request with some uploaded files and parameters
\par \hich\af2\dbch\af14\loch\f2         Map files = new HashMap();
\par \hich\af2\dbch\af14\loch\f2         File file1 \hich\af2\dbch\af14\loch\f2 = new File(DIR, "1.txt");
\par \hich\af2\dbch\af14\loch\f2         File file2 = new File(DIR, "10.txt");
\par \hich\af2\dbch\af14\loch\f2         File file3 = new File(DIR, "100.txt");
\par \hich\af2\dbch\af14\loch\f2         files.put("file1", Arrays.asList(new UploadFileSpec[] \{ new UploadFileSpec(file1), new UploadFileSpec(file2) \}));
\par \hich\af2\dbch\af14\loch\f2         files.p\hich\af2\dbch\af14\loch\f2 ut("file2", Arrays.asList(new UploadFileSpec[] \{ new UploadFileSpec(file3) \}));
\par 
\par \hich\af2\dbch\af14\loch\f2         Map parameters = new HashMap();
\par \hich\af2\dbch\af14\loch\f2         parameters.put("name1", Arrays.asList(new String[] \{ "value1", "value2" \}));
\par \hich\af2\dbch\af14\loch\f2         parameters.put("name2", Arrays.asList(new \hich\af2\dbch\af14\loch\f2 String[] \{ "value1" \}));
\par 
\par \hich\af2\dbch\af14\loch\f2         ServletRequest request = HttpRequestParserUnitTest.prepareRequest(files, parameters);
\par 
\par \hich\af2\dbch\af14\loch\f2         // parse the request, this will save the uploaded files
\par \hich\af2\dbch\af14\loch\f2         // to local file system
\par \hich\af2\dbch\af14\loch\f2         FileUploadResult result = uploa\hich\af2\dbch\af14\loch\f2 d.uploadFiles(request);
\par 
\par \hich\af2\dbch\af14\loch\f2         // get all the parameter names
\par \hich\af2\dbch\af14\loch\f2         String[] names = result.getParameterNames();
\par 
\par \hich\af2\dbch\af14\loch\f2         for (int i = 0; i < names.length; i++) \{
\par \hich\af2\dbch\af14\loch\f2             System.out.println("parameter name: " + names[i]);
\par \hich\af2\dbch\af14\loch\f2         \}
\par 
\par \hich\af2\dbch\af14\loch\f2         // get multiple values of the parameter
\par \hich\af2\dbch\af14\loch\f2         String[] values = result.getParameterValues("name1");
\par 
\par \hich\af2\dbch\af14\loch\f2         for (int i = 0; i < values.length; i++) \{
\par \hich\af2\dbch\af14\loch\f2             System.out.println("parameter values for name1: " + values[i]);
\par \hich\af2\dbch\af14\loch\f2         \}
\par 
\par \hich\af2\dbch\af14\loch\f2         \hich\af2\dbch\af14\loch\f2 // get single values of the parameter
\par \hich\af2\dbch\af14\loch\f2         String value = result.getParameter("name2");
\par \hich\af2\dbch\af14\loch\f2         System.out.println("parameter value for name2: " + value);
\par 
\par \hich\af2\dbch\af14\loch\f2         // get all the form file names
\par \hich\af2\dbch\af14\loch\f2         names = result.getFormFileNames();
\par 
\par \hich\af2\dbch\af14\loch\f2         for (i\hich\af2\dbch\af14\loch\f2 nt i = 0; i < names.length; i++) \{
\par \hich\af2\dbch\af14\loch\f2             System.out.println("form file name: " + names[i]);
\par \hich\af2\dbch\af14\loch\f2         \}
\par 
\par \hich\af2\dbch\af14\loch\f2         // get multiple uploaded files with the form file name
\par \hich\af2\dbch\af14\loch\f2         UploadedFile[] uploadedFiles = result.getUploadedFiles("file1");
\par 
\par \hich\af2\dbch\af14\loch\f2         for (int i = 0; i < uploadedFiles.length; i++) \{
\par \hich\af2\dbch\af14\loch\f2             System.out.println("remote file name for file1: " + uploadedFiles[i].getRemoteFileName());
\par \hich\af2\dbch\af14\loch\f2         \}
\par 
\par \hich\af2\dbch\af14\loch\f2         // get single uploaded file with the form file name
\par \hich\af2\dbch\af14\loch\f2         UploadedFile file\hich\af2\dbch\af14\loch\f2  = result.getUploadedFile("file2");
\par \hich\af2\dbch\af14\loch\f2         System.out.println("remote file name for file2: " + file.getRemoteFileName());
\par 
\par \hich\af2\dbch\af14\loch\f2         // get all the uploaded files
\par \hich\af2\dbch\af14\loch\f2         uploadedFiles = result.getAllUploadedFiles();
\par 
\par \hich\af2\dbch\af14\loch\f2         for (int i = 0; i < uploadedFil\hich\af2\dbch\af14\loch\f2 es.length; i++) \{
\par \hich\af2\dbch\af14\loch\f2             System.out.println("remote file names: " + uploadedFiles[i].getRemoteFileName());
\par \hich\af2\dbch\af14\loch\f2         \}}{\f2\fs18\insrsid9402413\charrsid14367322 
\par {\listtext\pard\plain\s3 \i\fs20\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 4.3.3\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Performing file operations with file id
\par }\pard\plain \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid4275256 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\dbch\af13\insrsid4275256\charrsid4275256 
\hich\af1\dbch\af13\loch\f1  }{\cf2\dbch\af13\insrsid4275256\charrsid4275256 \hich\af1\dbch\af13\loch\f1        // create the FileUpload instance
\par \hich\af1\dbch\af13\loch\f1         FileUpload upload = new RemoteFileUpload(REMOTE_FILE_UPLOAD_NAMESPACE);
\par 
\par \hich\af1\dbch\af13\loch\f1         // prepare the request with some uploaded files and parameters
\par \hich\af1\dbch\af13\loch\f1         Map files = new HashMap();
\par \hich\af1\dbch\af13\loch\f1         File file1 = new File(DIR, "1.txt");
\par \hich\af1\dbch\af13\loch\f1         File file2 = new File(DIR, "10.txt");
\par \hich\af1\dbch\af13\loch\f1         File file3 = new File(DIR, "100.txt");
\par \hich\af1\dbch\af13\loch\f1         files.put("file1", Arrays.asList(new UploadFileSpec[] \{ new UploadFileSpec(file1), new UploadFileSpec(file2) \}\hich\af1\dbch\af13\loch\f1 ));
\par \hich\af1\dbch\af13\loch\f1         files.put("file2", Arrays.asList(new UploadFileSpec[] \{ new UploadFileSpec(file3) \}));
\par 
\par \hich\af1\dbch\af13\loch\f1         Map parameters = new HashMap();
\par \hich\af1\dbch\af13\loch\f1         parameters.put("name1", Arrays.asList(new String[] \{ "value1", "value2" \}));
\par \hich\af1\dbch\af13\loch\f1         parameters.put("name2", Arrays.asList(new String[] \{ "value1" \}));
\par 
\par \hich\af1\dbch\af13\loch\f1         ServletRequest request = HttpRequestParserUnitTest.prepareRequest(files, parameters);
\par 
\par \hich\af1\dbch\af13\loch\f1         // parse the request, this will save the uploaded files to file system server
\par \hich\af1\dbch\af13\loch\f1         FileUploadResult result = upload.uploadFiles(request);
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the file id of an uploaded file from the result
\par \hich\af1\dbch\af13\loch\f1         // and store it somewhere (e.g. session) for later use
\par \hich\af1\dbch\af13\loch\f1         String fileId = result.getUploadedFile("file1").getFileId\hich\af1\dbch\af13\loch\f1 ();
\par 
\par \hich\af1\dbch\af13\loch\f1         // later, we can retrieve the uploaded file from the file system server
\par \hich\af1\dbch\af13\loch\f1         // with that file id
\par \hich\af1\dbch\af13\loch\f1         UploadedFile file = upload.getUploadedFile(fileId);
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the remote file name
\par \hich\af1\dbch\af13\loch\f1         String remoteFileName = file.getRemot\hich\af1\dbch\af13\loch\f1 eFileName();
\par \hich\af1\dbch\af13\loch\f1         System.out.println("The uploaded file's remote file name: " + remoteFileName);
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the file size
\par \hich\af1\dbch\af13\loch\f1         long size = file.getSize();
\par \hich\af1\dbch\af13\loch\f1         System.out.println("The uploaded file's size: " + size);
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the under\hich\af1\dbch\af13\loch\f1 lying input stream
\par \hich\af1\dbch\af13\loch\f1         InputStream in = file.getInputStream();
\par 
\par \hich\af1\dbch\af13\loch\f1         // close the input stream after use
\par \hich\af1\dbch\af13\loch\f1         in.close();
\par 
\par \hich\af1\dbch\af13\loch\f1         // remove the uploaded file from the file system server
\par \hich\af1\dbch\af13\loch\f1         upload.removeUploadedFile(fileId);
\par 
\par \hich\af1\dbch\af13\loch\f1         // disconnect from the file system server at the end
\par \hich\af1\dbch\af13\loch\f1         upload.disconnect();}{\cf2\dbch\af13\insrsid9402413\charrsid4275256 
\par }\pard \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid14896817 {\f2\fs18\insrsid14896817\charrsid14367322 
\par {\listtext\pard\plain\s3 \i\fs20\hich\af13\insrsid2901992 \hich\af13\dbch\af13\loch\f13 4.3.4\tab}}\pard\plain \s3\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar
\jclisttab\tx0\aspalpha\aspnum\faauto\ls1\ilvl2\outlinelevel2\adjustright\rin0\lin0\itap0\pararsid14896817 \i\f1\fs20\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\loch\af13\hich\af13\dbch\af13\insrsid2901992 \hich\af13\dbch\af13\loch\f13 P
\hich\af13\dbch\af13\loch\f13 a\hich\af13\dbch\af13\loch\f13 r\hich\af13\dbch\af13\loch\f13 s\hich\af13\dbch\af13\loch\f13 i\hich\af13\dbch\af13\loch\f13 n\hich\af13\dbch\af13\loch\f13 g}{\dbch\af13\insrsid2901992 \hich\af1\dbch\af13\loch\f1  
\hich\af1\dbch\af13\loch\f1 S\hich\af1\dbch\af13\loch\f1 e\hich\af1\dbch\af13\loch\f1 r\hich\af1\dbch\af13\loch\f1 v\hich\af1\dbch\af13\loch\f1 l\hich\af1\dbch\af13\loch\f1 e\hich\af1\dbch\af13\loch\f1 t\hich\af1\dbch\af13\loch\f1  
\hich\af1\dbch\af13\loch\f1 R\hich\af1\dbch\af13\loch\f1 e\hich\af1\dbch\af13\loch\f1 q\hich\af1\dbch\af13\loch\f1 u\hich\af1\dbch\af13\loch\f1 e\hich\af1\dbch\af13\loch\f1 s\hich\af1\dbch\af13\loch\f1 t}{\insrsid14896817 
\par }\pard\plain \s17\ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\dbch\af13\insrsid4275256 
\par }\pard \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0\pararsid9402413 {\cf2\dbch\af13\insrsid9402413\charrsid9402413 \hich\af1\dbch\af13\loch\f1         // Create the HttpRequestParser instance
\par \hich\af1\dbch\af13\loch\f1         HttpRequestParser parser = new HttpRequestParser();
\par 
\par \hich\af1\dbch\af13\loch\f1         // prepare the request with some uploaded files and parameters
\par \hich\af1\dbch\af13\loch\f1         Map files = new HashMap();
\par \hich\af1\dbch\af13\loch\f1         File file = new File(D\hich\af1\dbch\af13\loch\f1 IR, "1.txt");
\par \hich\af1\dbch\af13\loch\f1         files.put("file1", Arrays.asList(new UploadFileSpec[] \{ new UploadFileSpec(file) \}));
\par 
\par \hich\af1\dbch\af13\loch\f1         Map parameters = new HashMap();
\par \hich\af1\dbch\af13\loch\f1         parameters.put("name1", Arrays.asList(new String[] \{ "value1" \}));
\par 
\par \hich\af1\dbch\af13\loch\f1         ServletRequest request \hich\af1\dbch\af13\loch\f1 = HttpRequestParserUnitTest.prepareRequest(files, parameters);
\par 
\par \hich\af1\dbch\af13\loch\f1         // parses the request
\par \hich\af1\dbch\af13\loch\f1         parser.parseRequest(request);
\par 
\par \hich\af1\dbch\af13\loch\f1         // check the file
\par \hich\af1\dbch\af13\loch\f1         assertEquals("The hasNextFile should be correct.", true, parser.hasNextFile());
\par 
\par \hich\af1\dbch\af13\loch\f1         \hich\af1\dbch\af13\loch\f1 ByteArrayOutputStream output = new ByteArrayOutputStream();
\par \hich\af1\dbch\af13\loch\f1         parser.writeNextFile(output, 100);
\par \hich\af1\dbch\af13\loch\f1         System.out.println("The file content is :" + output.toString());
\par \hich\af1\dbch\af13\loch\f1         output.close();
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the contentType, formFileName, RemoteFileName
\par \hich\af1\dbch\af13\loch\f1         System.out.println("The file content type is :" + parser.getContentType());
\par \hich\af1\dbch\af13\loch\f1         System.out.println("The file form file name is :" + parser.getFormFileName());
\par \hich\af1\dbch\af13\loch\f1         System.out.print\hich\af1\dbch\af13\loch\f1 ln("The file remote file name is :" + parser.getRemoteFileName());
\par 
\par \hich\af1\dbch\af13\loch\f1         // check the file
\par \hich\af1\dbch\af13\loch\f1         assertEquals("The hasNextFile should be correct.", false, parser.hasNextFile());
\par 
\par \hich\af1\dbch\af13\loch\f1         // get the parameters
\par \hich\af1\dbch\af13\loch\f1         parser.getParameters();}{\dbch\af13\insrsid9402413\charrsid9402413 
\par }\pard \s17\ql \li720\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin720\itap0 {\dbch\af13\insrsid4275256\charrsid4275256 
\par {\listtext\pard\plain\s1 \b\loch\af1\hich\af1\dbch\af0 \hich\af1\dbch\af0\loch\f1 5.\tab}}\pard\plain \s1\ql \li0\ri0\sb120\sa60\sl240\slmult0\keepn\nowidctlpar\jclisttab\tx360\aspalpha\aspnum\faauto\ls1\outlinelevel0\adjustright\rin0\lin0\itap0 
\b\f1\fs24\lang1033\langfe2052\cgrid\langnp1033\langfenp2052 {\insrsid9402413 Future Enhancements
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard\plain \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls7\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls7\adjustright\rin0\lin1145\itap0 \fs20\lang1033\langfe2052\loch\af1\hich\af1\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
Add different implementations of persistence for u\hich\af1\dbch\af14\loch\f1 ploaded files, such as database.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls7\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls7\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 
Add the functionality to store the extra file information, so that they are available when retrieving the uploaded file with the file id.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls7\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls7\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Develop different approaches to handle uploaded files with the same filename.
\par {\pntext\pard\plain\s17 \fs20\loch\af3\hich\af3\dbch\af14 \loch\af3\dbch\af14\hich\f3 \'b7\tab}}\pard \s17\qj \fi-425\li1145\ri0\sa120\widctlpar\jclisttab\tx1145{\*\pn \pnlvlblt\ilvl0\ls7\pnrnot0\pnf3\pnfs20\pnstart1\pnindent360\pnsp120\pnhang 
{\pntxtb \hich \'b7}}\aspalpha\aspnum\faauto\ls7\adjustright\rin0\lin1145\itap0 {\insrsid9402413 \hich\af1\dbch\af14\loch\f1 Develop different parsing strategies for different protocols.
\par }\pard \s17\ql \li0\ri0\sa120\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 {\insrsid9402413 
\par }\pard\plain \ql \li0\ri0\widctlpar\aspalpha\aspnum\faauto\adjustright\rin0\lin0\itap0 \fs24\lang1033\langfe2052\loch\af0\hich\af0\dbch\af14\cgrid\langnp1033\langfenp2052 {\insrsid9402413 
\par }}